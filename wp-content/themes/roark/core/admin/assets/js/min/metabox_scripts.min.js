!function(e){"use strict";function t(t){return"object"==typeof t?t:(t=t.replace(/\\/g,""),t=e.parseJSON(t))}var a=e(".wiloke-has-dependency"),s=e(".wiloke-has-dependency-on-template"),n=e(".wiloke-table-has-dependency-on-template");s.length>0&&s.each(function(){var a=e(this),s="",n=a.attr("data-dependencyontemplate"),c=!1,i=e("#page_template");n=t(n),i.change(function(){switch(s=e(this).val(),n.operator){case"=":c=s==n.match?!0:!1;break;case"contains":var t=n.match.split(",");c=-1==t.indexOf(s)?!1:!0;break;case"not_contains":var t=n.match.split(",");c=-1==t.indexOf(s)?!0:!1}c?(a.addClass("wiloke-is-hidden-with-template"),a.closest("tr").show()):(a.removeClass("wiloke-is-hidden-with-template"),a.closest("tr").hide())})}),a.length>0&&a.each(function(){var a=e(this),s=e(this).data("dependency"),n="",c=!0,i=e(this).closest(".cmb_metabox.form-table").find('[name="'+s.name+'"]');s=t(s),i.change(function(){switch(s.operator){case"=":n=e(this).val(),c=n==s.match?!0:!1;break;case"contains":n=e(this).val();var t=s.match.split(",");c=-1==t.indexOf(n)?!1:!0;break;case"not_contains":n=e(this).val();var t=s.match.split(",");c=-1==t.indexOf(n)?!0:!1;break;case"not_empty":c=e(this).attr("checked")?!0:!1}c?a.hasClass("wiloke-is-hidden-with-template")||a.closest("tr").show():a.closest("tr").hide()}).trigger("change")}),n.length>0&&n.each(function(){var a=e(this),s="",n=e(this).data("dependencyontemplate"),c=!1,i=e("#page_template");n=t(n),i.change(function(){switch(s=e(this).val(),n.operator){case"=":c=s==n.match?!0:!1;break;case"contains":var t=n.match.split(",");c=-1==t.indexOf(s)?!1:!0;break;case"not_contains":var t=n.match.split(",");c=-1==t.indexOf(s)?!0:!1}c?a.closest(".postbox").show():a.closest(".postbox").hide()}).trigger("change")})}(jQuery);